# /wow3d-sales/templates/purchase_edit.html
{% extends 'layout.html' %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">구매 내역 수정</h2>

  <form method="POST" action="{{ url_for('edit_purchase', id=purchase.id) }}">
    <div class="row g-2 mb-3">
      <div class="col-md-3">
        <label for="product" class="form-label">제품 <span class="text-danger">*</span></label>
        <select name="product_id" id="product" class="form-select" required>
          {% for product in products %}
            <option value="{{ product.id }}" {% if product.id == purchase.product_id %}selected{% endif %}>
              {{ product.name }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="col-md-3">
        <label for="supplier" class="form-label">구매처 <span class="text-danger">*</span></label>
        <select name="supplier_id" id="supplier" class="form-select" required>
          {% for supplier in suppliers %}
            <option value="{{ supplier.id }}" {% if supplier.id == purchase.supplier_id %}selected{% endif %}>
              {{ supplier.name }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="col-md-2">
        <label for="quantity" class="form-label">수량 <span class="text-danger">*</span></label>
        <input type="number" name="quantity" id="quantity" class="form-control" value="{{ purchase.quantity }}" required>
      </div>

      <div class="col-md-2">
        <label for="price" class="form-label">단가 <span class="text-danger">*</span></label>
        <input type="number" name="price" id="price" class="form-control" value="{{ purchase.price }}" required>
      </div>

      <div class="col-md-2 d-flex align-items-end">
        <button type="submit" class="btn btn-primary w-100">수정 완료</button>
      </div>
    </div>
  </form>

  <div class="mt-3">
    <a href="{{ url_for('purchase') }}" class="btn btn-secondary">← 돌아가기</a>
  </div>
</div>
{% endblock %}
